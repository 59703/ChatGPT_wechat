{"version":3,"sources":["webpack:///C:/Dev/小程序/Gpt/ChatGPTAi-a/pages/touch.vue?5bdf","webpack:///C:/Dev/小程序/Gpt/ChatGPTAi-a/pages/touch.vue?c714","webpack:///C:/Dev/小程序/Gpt/ChatGPTAi-a/pages/touch.vue?ece3","webpack:///C:/Dev/小程序/Gpt/ChatGPTAi-a/pages/touch.vue?0614","uni-app:///pages/touch.vue","webpack:///C:/Dev/小程序/Gpt/ChatGPTAi-a/pages/touch.vue?23b6","webpack:///C:/Dev/小程序/Gpt/ChatGPTAi-a/pages/touch.vue?011b","uni-app:///main.js"],"names":["data","diameter","top","left","isMove","ballAnimation","timeout","modile","checked","r_checked","b_checked","created","_this","methods","runIndex","uni","title","mask","setTimeout","cache","e","restart","renderLottie","select","node","canvas","lottie","ani","loop","autoplay","animationData","rendererSettings","context","console","onTap","x","duration","create","touchmove","clearTimeout","touchend","touchcancel","finish","overBall","timingFunction","doNothing","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC0K;AAC1K,gBAAgB,iLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,+PAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAqoB,CAAgB,moBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACiCzpB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA,eACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;IACAA;IACAA;IACAA;IACAA;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAC;MACA;MACA;MACAC;QACAH;QACA;QACAA;MACA;IACA;IACAI;MACA;QACAJ;QACAK;MACA;QACAA;QACAL;MACA;IACA;IACAM;MAAA;MACAN;QACAC;QACAC;MACA;MACA;MACAF;MACAG;QACA;QACAH;MACA;IACA;IAEAO;MACA,2BACAC,WACAC;QACA;QACA;QACAC;QACAA;QACAC;QAEAC;UACAC;UACAC;UACAC;UACAC;YACAC;UACA;QACA;MACA;IACA;IACAC;MACA;MACAlB;IAEA;IACAmB;MACA;MACA;MACA;QACAC;MACA;MACA;QACAC;MACA;MACAC;MACAzB;MACAA;IACA;IACA0B;MAEA;MAEA1B;MACA;QACA2B;QACA3B;MACA;MACA;MACAA;MACAA;IACA;IACA4B;MACA;MACA;QACA;MACA;MACA5B;IACA;IACA6B;MACA;MACA;QACA;MACA;MACA7B;IACA;IACA8B;MACA;MACA9B;MACA;MACAA;MACAA;MACA;MACA;QACAA;QACAuB;MACA;QACAvB;MACA;MACA;QACAA;MACA;QACAA;MACA;MACA;QACAwB;MACA;MACAC;MACAzB;MACAA;IACA;IACA+B;MACA;MACA/B;QACAA;QACA;UACAwB;UACAQ;QACA;QACAP;QACAzB;MACA;IACA;IACAiC,iCACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzMA;AAAA;AAAA;AAAA;AAAosC,CAAgB,2nCAAG,EAAC,C;;;;;;;;;;;ACAxtC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAC,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C","file":"pages/touch.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./touch.vue?vue&type=template&id=6fe8f316&scoped=true&\"\nvar renderjs\nimport script from \"./touch.vue?vue&type=script&lang=js&\"\nexport * from \"./touch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./touch.vue?vue&type=style&index=0&id=6fe8f316&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fe8f316\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/touch.vue\"\nexport default component.exports","export * from \"-!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./touch.vue?vue&type=template&id=6fe8f316&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./touch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./touch.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <view @touchmove.stop.prevent=\"doNothing\">\r\n      <view class=\"hover_ball_cell\"\r\n            :style=\"{ width: `${diameter}px`, height: `${diameter}px`, top: `${top}px`, left: `${left}px` }\"\r\n            @touchmove=\"touchmove\" @touchend=\"touchend\" @touchcancel=\"touchcancel\" @tap=\"onTap\"\r\n            :animation=\"ballAnimation\" @click=\"console()\">\r\n        <view class=\"wave\">\r\n          <canvas id=\"lottie\" type=\"2d\" class=\"canvas\"/>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <uni-popup ref=\"controlPanel\" background-color=\"rgb(17,17,17)\">\r\n      <view class=\"c-box\">\r\n        <view class=\"c-text\">\r\n          <view class=\"uni-title\">历史回溯</view>\r\n          <switch :checked=\"checked\" @change=\"cache\" color=\" rgb(37, 50, 100)\" style=\"transform:scale(0.7)\"/>\r\n        </view>\r\n        <view class=\"c-text\">\r\n          <view class=\"uni-title\">清除Ai会话</view>\r\n          <switch :checked=\"r_checked\" @change=\"restart\" color=\" rgb(37, 50, 100)\" style=\"transform:scale(0.7)\"/>\r\n        </view>\r\n        <view class=\"c-text\">\r\n          <view class=\"uni-title\">返回主页</view>\r\n          <switch :checked=\"b_checked\" @change=\"runIndex\" color=\" rgb(37, 50, 100)\" style=\"transform:scale(0.7)\"/>\r\n        </view>\r\n      </view>\r\n\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport lottie from 'lottie-miniprogram';\r\nimport {getHistoryEnable} from \"@/utils/data\";\r\n\r\nlet ani = null;\r\nexport default {\r\n  data() {\r\n    return {\r\n      diameter: 0,\r\n      top: 0,\r\n      left: 0,\r\n      isMove: false,\r\n      ballAnimation: {},\r\n      timeout: null,\r\n      modile: {},\r\n      checked: false,\r\n      r_checked: false,\r\n      b_checked: false\r\n    }\r\n  },\r\n  created() {\r\n    let _this = this;\r\n    _this.renderLottie(\"#lottie\", \"Windy.json\")\r\n    _this.modile = uni.getSystemInfoSync();\r\n    _this.top = _this.modile.safeArea.top + 400;\r\n    _this.left = _this.modile.safeArea.right;\r\n    _this.diameter = _this.modile.screenHeight / 15;\r\n    this.checked = getHistoryEnable() === \"1\";\r\n  },\r\n  methods: {\r\n    runIndex() {\r\n      uni.showLoading({\r\n        title: \"返回主页\",\r\n        mask: true,\r\n      });\r\n      this.b_checked = true\r\n      setTimeout(() => {\r\n        uni.$emit('canvasVisual');\r\n        this.b_checked = false\r\n        uni.hideLoading()\r\n      }, 600)\r\n    },\r\n    cache(e) {\r\n      if (!e.detail.value) {\r\n        uni.$emit('closeHistory');\r\n        e.detail.value = false\r\n      } else {\r\n        e.detail.value = true\r\n        uni.$emit('openHistory');\r\n      }\r\n    },\r\n    restart() {\r\n      uni.showLoading({\r\n        title: \"正在清除会话\",\r\n        mask: true,\r\n      });\r\n      this.r_checked = true\r\n      uni.$emit('removePainting');\r\n      setTimeout(() => {\r\n        this.r_checked = false\r\n        uni.hideLoading()\r\n      }, 600)\r\n    },\r\n\r\n    renderLottie(id, path) {\r\n      this.createSelectorQuery()\r\n          .select(id)\r\n          .node(res => {\r\n            const canvas = res.node;\r\n            const context = canvas.getContext('2d');\r\n            canvas.width = 300;\r\n            canvas.height = 300;\r\n            lottie.setup(canvas);\r\n\r\n            ani = lottie.loadAnimation({\r\n              loop: true,\r\n              autoplay: true,\r\n              animationData: require(\"../static/json/\" + path),\r\n              rendererSettings: {\r\n                context\r\n              },\r\n            });\r\n          }).exec();\r\n    },\r\n    console() {\r\n      this.$refs.controlPanel.open('top')\r\n      uni.vibrateShort();\r\n\r\n    },\r\n    onTap() {\r\n      let _this = this;\r\n      let x = '0';\r\n      if (2 * _this.left >= _this.modile.safeArea.width) {\r\n        x = '-100%';\r\n      }\r\n      let create = uni.createAnimation({\r\n        duration: 0\r\n      });\r\n      create.translate(x).step();\r\n      _this.ballAnimation = create.export();\r\n      _this.overBall();\r\n    },\r\n    touchmove(e) {\r\n\r\n      let _this = this;\r\n\r\n      _this.isMove = true;\r\n      if (_this.timeout != null) {\r\n        clearTimeout(_this.timeout);\r\n        _this.timeout = null;\r\n      }\r\n      var touch = e.touches[0] || e.changedTouches[0];\r\n      _this.left = touch.clientX;\r\n      _this.top = touch.clientY;\r\n    },\r\n    touchend(e) {\r\n      let _this = this;\r\n      if (!_this.isMove) {\r\n        return;\r\n      }\r\n      _this.finish(e);\r\n    },\r\n    touchcancel(e) {\r\n      let _this = this;\r\n      if (!_this.isMove) {\r\n        return;\r\n      }\r\n      _this.finish(e);\r\n    },\r\n    finish(e) {\r\n      let _this = this;\r\n      _this.isMove = false;\r\n      var touch = e.touches[0] || e.changedTouches[0];\r\n      _this.left = touch.clientX;\r\n      _this.top = touch.clientY;\r\n      let x = '0';\r\n      if (2 * _this.left + _this.diameter >= _this.modile.safeArea.width) {\r\n        _this.left = _this.modile.safeArea.width;\r\n        x = '-100%';\r\n      } else {\r\n        _this.left = _this.modile.safeArea.left;\r\n      }\r\n      if (_this.top > _this.modile.safeArea.height + _this.modile.safeAreaInsets.bottom) {\r\n        _this.top = _this.modile.safeArea.height + _this.modile.safeAreaInsets.bottom;\r\n      } else if (_this.top < -_this.diameter / 2) {\r\n        _this.top = -_this.diameter / 2;\r\n      }\r\n      let create = uni.createAnimation({\r\n        duration: 0\r\n      });\r\n      create.translate(x).step();\r\n      _this.ballAnimation = create.export();\r\n      _this.overBall();\r\n    },\r\n    overBall() {\r\n      let _this = this;\r\n      _this.timeout = setTimeout(() => {\r\n        _this.timeout = null;\r\n        let create = uni.createAnimation({\r\n          duration: 400,\r\n          timingFunction: 'ease-in'\r\n        });\r\n        create.translate('-50%').step();\r\n        _this.ballAnimation = create.export();\r\n      }, 50);\r\n    },\r\n    doNothing: function () {\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.hover_ball_cell {\r\n  position: fixed;\r\n  overflow: hidden;\r\n  border-radius: 50%;\r\n  background: rgb(16, 20, 40);\r\n\r\n  transform: translate(-50%, 0);\r\n  padding: 17rpx;\r\n  box-shadow: 0rpx 4rpx 8rpx 0rpx rgba(0, 0, 0, 0.08);\r\n\r\n  .wave {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n.c-box {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-items: center;\r\n  padding: 30rpx;\r\n  color: white;\r\n  font-size: 26rpx;\r\n  font-weight: 600;\r\n  justify-content: space-between\r\n}\r\n\r\n.c-text {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-items: center\r\n\r\n}\r\n\r\n.canvas {\r\n  width: 100rpx;\r\n  height: 100rpx\r\n}\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./touch.vue?vue&type=style&index=0&id=6fe8f316&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../App/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./touch.vue?vue&type=style&index=0&id=6fe8f316&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1677891213221\n      var cssReload = require(\"C:/App/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/touch.vue'\ncreatePage(Page)"],"sourceRoot":""}